# for文, 配列

## 配列
    my @array = ( 1, "foo", 3 );
    print "@array\n";    # 1 foo 3

- 配列を使うことで, 数値や文字列をまとめて格納できます
- `=`演算子を使うことで, 左辺の配列に右辺の値を代入することができます
- 配列は変数名の前に`@`をつけます
    - `@`は`アレイ(array)`の`a`, と覚えるとよいでしょう
- 1行目の右側, `( ... )`の部分をリストと呼びます

## 配列

    my @array = ( 1, "foo", 3 );
    print "$array[0]\n"; # 1
    print "$array[1]\n"; # foo
    print "$array[2]\n"; # 3

- 配列の一つ一つの要素にアクセスする場合は`$変数名[添字]`を使います
    - 添字は1ではなく0からスタートして, 1ずつ増えます

## 配列
    my @array = ( 1, "foo", 3 );
    print "$array[0]\n"; # 1

- 配列に格納された, ある要素を取得する方法が`@変数名[添字]`ではなく`$変数名[添字]`となっているのは, ｢配列に格納された1つの要素｣がスカラ(1つ)のデータであるためです

## 配列
    my @array = ( 1, "foo", 3 );
    my $sum = $array[0] + $array[2];
    print "$sum\n" # => 4

- 配列の要素は普通のスカラ変数と同じように扱えるので, 代入や計算ができます

## 配列の要素数
    my @array = ( 1, "foo", 3 );
    print scalar @array; => 3
    print $#array; => 2

- 配列を`scalar`演算子に与えると, 配列に格納されている要素の個数を取得できます
- `@array`に対して`$#array`と書くことで, 配列に格納されている最後の要素の添字を取得できます

## 範囲演算子
    my @array1 = ( 1, 2 );
    my @array2 = ( 1 .. 5 );
    my @array3 = ( @array1, 3 ); # (1, 2, 3)

- `()`を使うことで, 配列にまとめて値を代入することができます
- 連続する数字であれば, 範囲演算子`..`を使って`1 .. 5`と書くことで, `1以上5以下`の値を配列に代入できます
- 3行目のように, 数値や文字列だけでなく, 配列を代入することもできます

## reverse
    my @array1 = ( 5, 4, 3, 2, 1 );
    my @array2 = reverse ( 1 .. 5 ); # ( 5, 4, 3, 2, 1 )
    my @array3 = ( 5 .. 1 ); # まちがい

- `@array1`のように, 連番を逆の順番で配列に格納したい場合は`reverse`を使いましょう
    - 範囲演算子`..`は, 必ず右側の値が左側の値より大きくなければなりません
    - そのため, `@array2 = ( 5 .. 1 );`のように書くと`@array2`には空の要素が格納されるので注意しましょう

## sort
    my @array1 = ( 5, 4, 3, 2, 1 );
    my @sorted = sort @array1; # (1, 2, 3, 4, 5)

- `sort`を使うと, 配列の要素を並び替えることができます
    - `sort { $a <=> $b } @array`と書くと, 数値としてソートします
    - `sort { $a cmp $b } @array`, あるいは`sort`のみを書くと, 文字列としてソートします
- 変数`$a`と`$b`はsortで使うために予約されているので, **sort以外で使ってはいけません**

## for ループ
    my @array = ( 1, "foo", 3 );
    for my $foo ( @array ) {
      print "$foo\n";
    }

- 配列の中身を出力する方法として, `for`文があります
    - `foreach`と書いても問題ありません. 実はPerlの内部では, 同じように処理されます
- この場合, 変数`$foo`に`$array[0]`, `$array[1]` ... という値が順番に代入され, 処理が行われます

## for ループ ( C言語風 )
    my @array = ( 1, "foo", 3 );
    for ( my $i = 0; $i < scalar(@array); $i++ ) {
      print "$array[$i]\n";
    }

- `scalar(@array)`は, `@array`の要素数を表します
    -この場合, `@array`には3個の要素が格納されているので, `scalar(@array)`は3となります
- もっとも, よほどの事がないかぎり, この方式の`for`は使いません!
    - 先ほど紹介したforループで大抵事足りるためです

## for ループ ( 範囲演算子 )
    my @array = ( 1, "foo", 3 );
    for my $i (0 .. ($#array)) {
      print "$array[$i]\n";
    }

- `$#array`は, `@array`の最大の添字を表します
    -この場合, `@array`には3個の要素が格納されているので, `$#array`は2となります
- 先ほどのC言語風のforループは, 範囲演算子を利用してこのように記述することができます.
    - 結構便利なので覚えておきましょう!

## 練習問題(sort.pl)
- 配列`@array`に`<STDIN>`を使って3つの文字列を格納し, これを｢文字列として｣ソートしたものを出力する`sort.pl`を書いてみよう

### ヒント
- プログラムの組み立てを, 1つずつやってみましょう!
    1. 文字列を受け取る部分を作ってみよう
    2. ソートする部分を作ってみよう
    3. 文字列を出力する部分を作ってみよう

## 応用問題
- `sort.pl`をもとにして, `@array`に文字列を3個入力する際, `<STDIN>`を3回書くのではなく, for文を使ってシンプルに書いてみよう
